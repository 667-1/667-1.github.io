<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="FL"><link rel="alternative" href="/atom.xml" title="接个吻开一枪" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title> - 接个吻开一枪</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><header class="head"><h1 class="head-title u-fl"><a href="/">接个吻开一枪</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">目录</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2017-08-07T13:22:00.994Z">August 7, 2017</time><h1 class="post__title"><a href="/2017/08/07/README/"></a></h1><div class="post__main echo"><h1 id="Angular"><a href="#Angular" class="headerlink" title="Angular"></a>Angular</h1><h2 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h2><ul>
<li>自定义指令无外乎增强了HTML,提供了额外的功能。</li>
<li>内部指令基本能满足我们的需求。</li>
<li>少数情况下我们有一些特殊的需要，可以通过自定义指令的方式实现</li>
</ul>
<h2 id="创建自定义指令"><a href="#创建自定义指令" class="headerlink" title="创建自定义指令"></a>创建自定义指令</h2><ul>
<li><em>注意: 名字要符合驼峰合法</em></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 1.创建模块对象</span></div><div class="line"><span class="keyword">var</span> app = angular.module(<span class="string">'directiveApp'</span>, [])</div><div class="line"></div><div class="line"><span class="comment">// 2.创建自定义指令</span></div><div class="line"><span class="comment">// 第一个参数：是指令的名字,必须是驼峰命名法</span></div><div class="line"><span class="comment">//             使用时把大写改成小写，在原来大写前加上-</span></div><div class="line"><span class="comment">// 第二个参数：和控制器的第二个参数类似!</span></div><div class="line">app.directive(<span class="string">'myBtn'</span>, [<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="comment">// 在这里直接return 一个对象就可以了</span></div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="comment">// template属性，是封装的ui</span></div><div class="line">    template:<span class="string">'&lt;div&gt;&lt;button&gt;我是按钮&lt;/button&gt;&lt;/div&gt;'</span></div><div class="line">  &#125;</div><div class="line">&#125;])</div></pre></td></tr></table></figure>
<h3 id="自定义指令中回调里返回的对象的属性"><a href="#自定义指令中回调里返回的对象的属性" class="headerlink" title="自定义指令中回调里返回的对象的属性"></a>自定义指令中回调里返回的对象的属性</h3><ul>
<li>template: 需要提供一个html字符串,最终会被添加到当前页面使用了自定义指令的位置</li>
<li><p>templateUrl:需要提供一个html文件路径，angular会发请求，请求对应的文件，<br>把文件内容作为模板插入到自定义指令中间</p>
<pre><code>: 也可以提供一个script标签的id, angular会把script标签中的内容作为
  模板插入到自定义指令中间,*注意* 要改变script标签的type=&quot;text/ng-template&quot;
</code></pre></li>
<li><p>restrict: 也是需要提供一个字符串，限制自定义指令的使用形式</p>
<ul>
<li>A : Attribute 表示只能以属性的形式使用</li>
<li>C : Class     表示只能以类样式名的形式使用</li>
<li>E : Element   表示只能以自定义标签的形式使用</li>
<li>ACE : 如果希望多种方</li>
<li>式合适，就把对应值组合在一起。</li>
</ul>
</li>
<li><p>replace：需要提供一个布尔值，为true时，模板会被用来替换自定义指令所在标签，</p>
<pre><code>* 否则是插入到自定义指令中间
</code></pre></li>
<li><p>transclude: 需要一个布尔值, 为true时会将自定义标签中的内容插入到模板中，</p>
<pre><code>* 拥有ng-transclude 指令的标签中间
</code></pre></li>
<li><p>scope：需要一个对象: 可以用来获取自定义指令的属性值,</p>
<ul>
<li>给当前对象添加一个属性(如:tmp),属性值以@开头，后面跟上自定义指令的属性名<br>然后就可以在模板中使用 来得到对应的属性值<ul>
<li><code>scope: { tmp:&#39;@mystyle&#39;}</code>  </li>
<li><code>scope: { mystyle:&#39;@&#39;}</code>     </li>
</ul>
</li>
</ul>
</li>
<li><p>link: 需要一个function 这是function在angular解析到相应指令时就会执行一次,</p>
<ul>
<li>scope      ：类似于$scope,只不过scope的属性只能在模板中使用</li>
<li>element    : 自定义指令所在标签对应的对象(jqLite)</li>
<li>attributes : 包含了自定义指令所在标签的必有属性</li>
</ul>
</li>
</ul>
<h2 id="todomvc案例"><a href="#todomvc案例" class="headerlink" title="todomvc案例"></a>todomvc案例</h2><h3 id="todomvc功能分析"><a href="#todomvc功能分析" class="headerlink" title="todomvc功能分析"></a>todomvc功能分析</h3><ol>
<li>任务的展示</li>
<li>添加任务</li>
<li>删除任务</li>
<li>修改任务内容</li>
<li>切换任务完成与否的状态</li>
<li>批量切换任务完成与否的状态</li>
<li>显示未完成的任务数</li>
<li>清除所有已完成任务<ul>
<li>注意： 在循环删除数组长度，会导致循环条件改变，也会导致元素原来的索引改变</li>
</ul>
</li>
<li>切换显示不同状态的任务</li>
</ol>
<h2 id="过滤器-filter"><a href="#过滤器-filter" class="headerlink" title="过滤器(filter)"></a>过滤器(filter)</h2><ul>
<li>格式化数据</li>
<li>过滤数据(filter)</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!--  如果指定一个布尔值，或者字符串就是全文匹配 --&gt;</span></div><div class="line">  <span class="comment">&lt;!-- 会到对应的todos中寻找，如果当前元素有completed属性且值 为true就会被显示出来。（只会到completed属性中寻找） --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"item in todos | filter : &#123;completed:true&#125; "</span>&gt;</span></div><div class="line">    &#123;&#123;item.name&#125;&#125;,&#123;&#123;item.completed&#125;&#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>currency<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 在数据模型后加上|  再加上过滤器的名字 </span></div><div class="line"><span class="comment">      也可以在过滤器名字后指定参数，参数是写在冒号后面的--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;money | currency : '￥'&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>date<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;myDate | date : 'yyyy年MM月dd日 HH:mm:ss'&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>limitTo</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>limitTo<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="comment">&lt;!-- 第一个参数，表明显示多少个字，第二个参数表示，从第几个字开始显示(索引从0开始) --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123;msg | limitTo : 5 : 2&#125;&#125;...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>orderBy 及 json</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>json<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"> <span class="comment">&lt;!--  格式化显示json数据，参数指定缩近的长度 --&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">pre</span>&gt;</span>&#123;&#123;myJson | json : 8&#125;&#125;<span class="tag">&lt;/<span class="name">pre</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>orderBy<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">  <span class="comment">&lt;!-- 对数据进行排序，参数，给+号就按正序排，- 就按倒序排 --&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">ng-repeat</span>=<span class="string">"item in arr | orderBy:'-'"</span>&gt;</span>&#123;&#123;item &#125;&#125;，<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>在js中使用过滤器</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;!-- $filter 需要在控制器的回调中传入 --&gt;</div><div class="line"><span class="comment">// 可以调用不同的过滤器得到相应的结果</span></div><div class="line">  <span class="comment">// 参数是一个过滤器的名字</span></div><div class="line">  <span class="comment">// 返回值是一个方法</span></div><div class="line">  <span class="comment">//        : 第一个参数是需要处理的数据</span></div><div class="line">  <span class="comment">//        : 后面的参数是当前过滤器本身需要的参数</span></div><div class="line"> $scope.result =  $filter(<span class="string">'currency'</span>)($scope.money,<span class="string">'￥'</span>)</div></pre></td></tr></table></figure>
</div></header></article><div class="comments" id="lv-container" data-id="city" data-uid="your uid"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2016-2017 FL</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>
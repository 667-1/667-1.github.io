<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="阿力"><link rel="alternative" href="/atom.xml" title="Still Moving Under Gunfire" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title> - Still Moving Under Gunfire</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><header class="head"><h1 class="head-title u-fl"><a href="/">Still Moving Under Gunfire</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">→_→戳我</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2017-08-14T05:29:04.154Z">August 14, 2017</time><h1 class="post__title"><a href="/2017/08/14/TodoMvc/"></a></h1><div class="post__main echo"><hr>
<h2 id="TodoMvc-Angular"><a href="#TodoMvc-Angular" class="headerlink" title="TodoMvc-Angular"></a>TodoMvc-Angular</h2><h1 id="主要功能："><a href="#主要功能：" class="headerlink" title="主要功能："></a>主要功能：</h1><p>1.任务列表展示</p>
<p>2.添加新任务</p>
<p>3.修改任务</p>
<p>4.删除任务</p>
<p>5.切换任务状态</p>
<p>6.显示未完成数量</p>
<p>7.显示已完成数量</p>
<p>8.清除已完成任务</p>
<p>9.切换不同状态下的任务显示</p>
<h2 id="1-任务列表展示："><a href="#1-任务列表展示：" class="headerlink" title="1.任务列表展示："></a>1.任务列表展示：</h2><p>自己写假数据 通过ng-repeat展示  代码：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$scope.todos = [</div><div class="line">  &#123;<span class="attr">id</span>:<span class="number">1</span>,<span class="attr">name</span>:<span class="string">'吃饭'</span>,<span class="attr">completed</span>:<span class="literal">true</span>&#125;,</div><div class="line">  &#123;<span class="attr">id</span>:<span class="number">2</span>,<span class="attr">name</span>:<span class="string">'睡觉'</span>,<span class="attr">completed</span>:<span class="literal">true</span>&#125;,</div><div class="line">  &#123;<span class="attr">id</span>:<span class="number">3</span>,<span class="attr">name</span>:<span class="string">'打豆豆'</span>,<span class="attr">completed</span>:<span class="literal">false</span>&#125;,</div><div class="line">  &#123;<span class="attr">id</span>:<span class="number">4</span>,<span class="attr">name</span>:<span class="string">'学习'</span>,<span class="attr">completed</span>:<span class="literal">true</span>&#125;,</div><div class="line">  &#123;<span class="attr">id</span>:<span class="number">5</span>,<span class="attr">name</span>:<span class="string">'喝水'</span>,<span class="attr">completed</span>:<span class="literal">false</span>&#125;</div><div class="line">];</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"item in todos"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"view"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"toggle"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"destroy"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"edit"</span> <span class="attr">value</span>=<span class="string">"Rule the web"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="2-添加新任务"><a href="#2-添加新任务" class="headerlink" title="2.添加新任务:"></a>2.添加新任务:</h2><p>按下回车之后 新写的任务会添加进 todos里面从而会展示在任务列表中 利用form 的ng-submit特性来完成  代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">ng-submit</span>=<span class="string">"add()"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">ng-model</span>=<span class="string">"newTodo"</span> <span class="attr">class</span>=<span class="string">"new-todo"</span>       <span class="attr">placeholder</span>=<span class="string">"What needs to be done?"</span> <span class="attr">autofocus</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$scope.newTodo=<span class="string">''</span>;</div><div class="line">$scope.add = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span>(!$scope.newTodo)&#123;</div><div class="line">  <span class="keyword">return</span></div><div class="line">  &#125;</div><div class="line">  $scope.todos.push(&#123;</div><div class="line">  id:<span class="built_in">Math</span>.random(),</div><div class="line">  name:$scope.newTodo,</div><div class="line">  completed:<span class="literal">false</span></div><div class="line">  &#125;)</div><div class="line">  $scope.newTodo=<span class="string">''</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="3-修改任务："><a href="#3-修改任务：" class="headerlink" title="3.修改任务："></a>3.修改任务：</h2><p>双击（ng-dblclick）的时候，当前任务会变为文本框。 有两个标签一个为label标签另外一个是input标签，双击的时候input标签显示 正常的时候label标签显示 通过控制类名来达到效果（na-class）。修改完成之后 按下回车任务会重新显示在列表中 与功能 2 类似。双击的时候可以通过比较id值来判断是否是需要修改的数据 和控制样式。 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"item in todos"</span> <span class="attr">ng-class</span>=<span class="string">"&#123;editing:isEditingId == item.id&#125;"</span>&gt;</span> </div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"view"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"toggle"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">label</span> <span class="attr">ng-dblclick</span>=<span class="string">"edit(item.id)"</span>&gt;</span>&#123;&#123;item.name&#125;&#125;		       <span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"destroy"</span> <span class="attr">ng-click</span>=<span class="string">"remove(item.id)"</span>&gt;</span>         <span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">form</span> <span class="attr">ng-submit</span>=<span class="string">"save()"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"edit"</span> <span class="attr">value</span>=<span class="string">"Rule the web"</span> <span class="attr">ng-model</span>=<span class="string">"item.name"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$scope.isEditingId = <span class="number">-1</span>;</div><div class="line">$scope.edit = <span class="function"><span class="keyword">function</span>(<span class="params">id</span>)</span>&#123;</div><div class="line">	$scope.isEditingId = id;</div><div class="line">&#125;</div><div class="line">$scope.save = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	$scope.isEditingId = <span class="number">-1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="4-删除任务："><a href="#4-删除任务：" class="headerlink" title="4.删除任务："></a>4.删除任务：</h2><p>点击x的时候 todos里的数据会减少相应的任务。 点击x之后传入id值  遍历todos来判断删除todos中的哪一项。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"item in todos"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"view"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"toggle"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">label</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"destroy"</span> <span class="attr">ng-click</span>=<span class="string">"remove(item.id)"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"edit"</span> <span class="attr">value</span>=<span class="string">"Rule the web"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">$scope.remove = <span class="function"><span class="keyword">function</span>(<span class="params">id</span>)</span>&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; $scope.todos.length; i++) &#123;</div><div class="line">    <span class="keyword">var</span> item = $scope.todos[i]</div><div class="line">    <span class="keyword">if</span>(item.id === id)&#123;</div><div class="line">        $scope.todos.splice(i,<span class="number">1</span>);</div><div class="line">        <span class="keyword">return</span></div><div class="line">    	&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="5-切换任务状态："><a href="#5-切换任务状态：" class="headerlink" title="5.切换任务状态："></a>5.切换任务状态：</h2><p>点击当前任务的时候 任务会变换状态 从已完成办成未完成 或者从未完成变为已完成。 input的ng-model值是 true或者false通过这个可以利用ng-class来给父元素添加类名得到样式。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">ng-repeat</span>=<span class="string">"item in todos"</span> <span class="attr">ng-class</span>=<span class="string">"&#123;editing:isEditingId == item.id,completed:item.completed&#125;"</span>&gt;</span> </div><div class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"view"</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"toggle"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-</span>         <span class="attr">model</span>=<span class="string">"item.completed"</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">label</span> <span class="attr">ng-dblclick</span>=<span class="string">"edit(item.id)"</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"destroy"</span> <span class="attr">ng-click</span>=<span class="string">"remove(item.id)"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"> <span class="tag">&lt;<span class="name">form</span> <span class="attr">ng-submit</span>=<span class="string">"save()"</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"edit"</span> <span class="attr">value</span>=<span class="string">"Rule the web"</span> <span class="attr">ng-model</span>=<span class="string">"item.name"</span>&gt;</span></div><div class="line"> <span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="5-1批量切换任务状态："><a href="#5-1批量切换任务状态：" class="headerlink" title="5.1批量切换任务状态："></a>5.1批量切换任务状态：</h4><p>当点击最上面的checkbox的时候当前所有的任务都会变为已完成或者未完成 。checkbox的ng-model值为true或者false 通过这个来给input添加ng-change事件获取值来改变complated实现效果。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"toggle-all"</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">ng-change</span>=<span class="string">"toggleAll()"</span><span class="attr">ng-model</span>=<span class="string">"selectAll"</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$scope.selectAll = <span class="literal">false</span></div><div class="line">$scope.toggleAll = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; $scope.todos.length; i++) &#123;</div><div class="line">  <span class="keyword">var</span> item = $scope.todos[i]</div><div class="line">  item.completed = $scope.selectAll</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="6-显示未完成数量"><a href="#6-显示未完成数量" class="headerlink" title="6.显示未完成数量"></a>6.显示未完成数量</h2><p>当一个表达式跟其他数据模型有关系的话 其他数据模型数据变化的时候表达式的值也会重新刷新。只需要遍历todos 计算出未完成的数量即可。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"todo-count"</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>&#123;&#123;getActive()&#125;&#125;<span class="tag">&lt;/<span class="name">strong</span>&gt;</span> item left<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$scope.getActive = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> count = <span class="number">0</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; $scope.todos.length; i++) &#123;</div><div class="line">      <span class="keyword">var</span> item = $scope.todos[i]</div><div class="line">      <span class="keyword">if</span>(!item.completed)&#123;</div><div class="line">          count++</div><div class="line">      &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> count</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="7-显示已完成数量："><a href="#7-显示已完成数量：" class="headerlink" title="7.显示已完成数量："></a>7.显示已完成数量：</h2><p>同6.</p>
<h2 id="8-清除已完成任务"><a href="#8-清除已完成任务" class="headerlink" title="8.清除已完成任务"></a>8.清除已完成任务</h2><p>添加na-click点击事件 遍历todos删除不符合条件的数据</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"clear-completed"</span> <span class="attr">ng-click</span>=<span class="string">"clearAll()"</span>&gt;</span>Clear completed<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$scope.clearAll = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;	</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = $scope.todos.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">    <span class="keyword">var</span> item = $scope.todos[i];</div><div class="line">    <span class="keyword">if</span>(item.completed)&#123;</div><div class="line">       $scope.todos.splice(i,<span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="9-切换不同状态下的任务显示"><a href="#9-切换不同状态下的任务显示" class="headerlink" title="9.切换不同状态下的任务显示"></a>9.切换不同状态下的任务显示</h2><p>点击全部显示全部任务，点击已完成显示已完成任务 点击未完成显示未完成任务。</p>
<p>通过$watch（监听数据模型）来监视锚点值的变化切换不同任务状态。</p>
<p>控制其中需要加入$location</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">myApp.controller(<span class="string">'myController'</span>,[<span class="string">'$scope'</span>,<span class="string">'$location'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope,$location</span>)</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"filters"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">ng-class</span>=<span class="string">"&#123;selected:isCompleted.completed==undefined&#125;"</span> <span class="attr">href</span>=<span class="string">"#/"</span>&gt;</span>All<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">ng-class</span>=<span class="string">"&#123;selected:isCompleted.completed==false&#125;"</span> <span class="attr">href</span>=<span class="string">"#/active"</span> &gt;</span>Active<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">ng-class</span>=<span class="string">"&#123;selected:isCompleted.completed==true&#125;"</span> <span class="attr">href</span>=<span class="string">"#/completed"</span>&gt;</span>Completed<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">$scope.isCompleted = &#123;&#125;;</div><div class="line">	$scope.loca = $location;</div><div class="line">    $scope.$watch(<span class="string">'loca.url()'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">now, old</span>)</span>&#123;</div><div class="line">      <span class="keyword">switch</span>(now)&#123;</div><div class="line">        <span class="keyword">case</span> <span class="string">'/active'</span>:</div><div class="line">        $scope.isCompleted = &#123;<span class="attr">completed</span>:<span class="literal">false</span>&#125;;</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">case</span> <span class="string">'/completed'</span>:</div><div class="line">        $scope.isCompleted = &#123;<span class="attr">completed</span>:<span class="literal">true</span>&#125;;</div><div class="line">        <span class="keyword">break</span>;</div><div class="line">        <span class="keyword">default</span>:</div><div class="line">        $scope.isCompleted = &#123;&#125;;</div><div class="line">      &#125;</div><div class="line">    &#125;)</div></pre></td></tr></table></figure></div></header></article><div class="comments" id="lv-container" data-id="city" data-uid="MTAyMC8zMDA0Ni82NjEw"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2016-2017 阿力</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>